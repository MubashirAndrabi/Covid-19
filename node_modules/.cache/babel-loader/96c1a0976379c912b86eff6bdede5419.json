{"ast":null,"code":"import Axios from 'axios';\nconst FETCH_COUNTRY = 'app/countries/FETCH_COUNTRY';\nconst FETCH_STATE = 'app/country/FETCH_STATE';\nexport function fetchCountry(value) {\n  return {\n    type: FETCH_COUNTRY,\n    value\n  };\n}\nexport function fetchState(value) {\n  return {\n    type: FETCH_STATE,\n    value\n  };\n}\nexport default function reducer(state = {\n  indivisualCountries: [],\n  indivisualState: []\n}, action) {\n  switch (action.type) {\n    case FETCH_COUNTRY:\n      return { ...state,\n        indivisualCountries: action.value\n      };\n\n    case FETCH_STATE:\n      return { ...state,\n        indivisualState: action.value\n      };\n\n    default:\n      return state;\n  }\n}\nexport function getCountry(value) {\n  return (dispatch, getState) => {\n    Axios.get('https://covid19.mathdro.id/api/countries/' + value).then(response => {\n      const countryData = response.data;\n      const stateData = response.data.confirmed.detail;\n      dispatch(fetchCountry(countryData));\n      dispatch(fetchState(stateData));\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n}\nexport function getState(stateData) {\n  return (dispatch, getState) => {\n    Axios.get(stateData).then(response => {\n      const value = response.data.map(item => {\n        return item;\n      });\n      dispatch(fetchState(value));\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n}","map":{"version":3,"sources":["/Users/mubashirahmad/Downloads/coronadata/src/ducks/country.js"],"names":["Axios","FETCH_COUNTRY","FETCH_STATE","fetchCountry","value","type","fetchState","reducer","state","indivisualCountries","indivisualState","action","getCountry","dispatch","getState","get","then","response","countryData","data","stateData","confirmed","detail","catch","error","console","log","map","item"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,aAAa,GAAE,6BAArB;AACA,MAAMC,WAAW,GAAE,yBAAnB;AAEA,OAAO,SAASC,YAAT,CAAsBC,KAAtB,EAA4B;AAC/B,SAAM;AAACC,IAAAA,IAAI,EAACJ,aAAN;AAAsBG,IAAAA;AAAtB,GAAN;AACH;AAED,OAAO,SAASE,UAAT,CAAoBF,KAApB,EAA0B;AAC7B,SAAM;AAACC,IAAAA,IAAI,EAACH,WAAN;AAAmBE,IAAAA;AAAnB,GAAN;AACH;AAGD,eAAe,SAASG,OAAT,CAAiBC,KAAK,GAAC;AAACC,EAAAA,mBAAmB,EAAC,EAArB;AAAyBC,EAAAA,eAAe,EAAC;AAAzC,CAAvB,EAAqEC,MAArE,EAA4E;AACvF,UAAOA,MAAM,CAACN,IAAd;AACQ,SAAKJ,aAAL;AACI,aAAO,EAAC,GAAGO,KAAJ;AAAWC,QAAAA,mBAAmB,EAACE,MAAM,CAACP;AAAtC,OAAP;;AACA,SAAKF,WAAL;AACI,aAAO,EAAC,GAAGM,KAAJ;AAAWE,QAAAA,eAAe,EAACC,MAAM,CAACP;AAAlC,OAAP;;AACR;AACI,aAAOI,KAAP;AANZ;AASH;AAGD,OAAO,SAASI,UAAT,CAAoBR,KAApB,EAA0B;AAC7B,SAAO,CAACS,QAAD,EAAWC,QAAX,KAAsB;AAEzBd,IAAAA,KAAK,CAACe,GAAN,CAAU,8CAA4CX,KAAtD,EAA6DY,IAA7D,CAAmEC,QAAD,IAAY;AAE9E,YAAMC,WAAW,GAAGD,QAAQ,CAACE,IAA7B;AACA,YAAMC,SAAS,GAAGH,QAAQ,CAACE,IAAT,CAAcE,SAAd,CAAwBC,MAA1C;AAEAT,MAAAA,QAAQ,CAACV,YAAY,CAACe,WAAD,CAAb,CAAR;AACAL,MAAAA,QAAQ,CAACP,UAAU,CAACc,SAAD,CAAX,CAAR;AAEC,KARD,EAQGG,KARH,CAQUC,KAAD,IAAS;AAEdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AAEH,KAZD;AAcH,GAhBD;AAiBH;AAED,OAAO,SAASV,QAAT,CAAkBM,SAAlB,EAA4B;AAC/B,SAAO,CAACP,QAAD,EAAWC,QAAX,KAAsB;AAEzBd,IAAAA,KAAK,CAACe,GAAN,CAAUK,SAAV,EAAqBJ,IAArB,CAA2BC,QAAD,IAAY;AAElC,YAAMb,KAAK,GAAGa,QAAQ,CAACE,IAAT,CAAcQ,GAAd,CAAmBC,IAAD,IAAQ;AAEpC,eAAOA,IAAP;AAEH,OAJa,CAAd;AAMAf,MAAAA,QAAQ,CAACP,UAAU,CAACF,KAAD,CAAX,CAAR;AAEH,KAVD,EAUGmB,KAVH,CAUUC,KAAD,IAAS;AAEdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AAEH,KAdD;AAgBH,GAlBD;AAoBH","sourcesContent":["import Axios from 'axios';\n\nconst FETCH_COUNTRY ='app/countries/FETCH_COUNTRY';\nconst FETCH_STATE ='app/country/FETCH_STATE';\n\nexport function fetchCountry(value){\n    return{type:FETCH_COUNTRY , value}\n}\n\nexport function fetchState(value){\n    return{type:FETCH_STATE, value}\n}\n\n\nexport default function reducer(state={indivisualCountries:[], indivisualState:[]}, action){\n    switch(action.type){\n            case FETCH_COUNTRY:\n                return {...state, indivisualCountries:action.value}\n                case FETCH_STATE:\n                    return {...state, indivisualState:action.value}\n            default:\n                return state;\n    }\n\n}\n\n\nexport function getCountry(value){\n    return (dispatch, getState)=>{\n\n        Axios.get('https://covid19.mathdro.id/api/countries/'+value).then((response)=>{\n\n        const countryData = response.data;\n        const stateData = response.data.confirmed.detail;\n\n        dispatch(fetchCountry(countryData));\n        dispatch(fetchState(stateData));\n\n        }).catch((error)=>{\n\n            console.log(error)\n\n        })\n\n    }\n}\n\nexport function getState(stateData){\n    return (dispatch, getState)=>{\n\n        Axios.get(stateData).then((response)=>{\n\n            const value = response.data.map((item)=>{\n\n                return item;\n\n            })\n\n            dispatch(fetchState(value));\n\n        }).catch((error)=>{\n\n            console.log(error)\n\n        })\n\n    }\n\n}\n\n"]},"metadata":{},"sourceType":"module"}