{"ast":null,"code":"import _objectSpread from\"/Users/mubashirahmad/Downloads/coronadata/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import Axios from'axios';var FETCH_COUNTRY='app/countries/FETCH_COUNTRY';var FETCH_STATE='app/country/FETCH_STATE';export function fetchCountry(value){return{type:FETCH_COUNTRY,value:value};}export function fetchState(value){return{type:FETCH_STATE,value:value};}export default function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{indivisualCountries:[],indivisualState:[]};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case FETCH_COUNTRY:return _objectSpread(_objectSpread({},state),{},{indivisualCountries:action.value});case FETCH_STATE:return _objectSpread(_objectSpread({},state),{},{indivisualState:action.value});default:return state;}}export function getCountry(value){return function(dispatch,getState){Axios.get('https://covid19.mathdro.id/api/countries/'+value).then(function(response){var countryData=response.data;var stateData=response.data.confirmed.detail;dispatch(fetchCountry(countryData));dispatch(getStates(stateData));}).catch(function(error){console.log(error);});};}export function getStates(stateData){return function(dispatch,getState){Axios.get(stateData).then(function(response){var value=response.data.map(function(item){return item;});dispatch(fetchState(value));}).catch(function(error){console.log(error);});};}","map":{"version":3,"sources":["/Users/mubashirahmad/Downloads/coronadata/src/ducks/country.js"],"names":["Axios","FETCH_COUNTRY","FETCH_STATE","fetchCountry","value","type","fetchState","reducer","state","indivisualCountries","indivisualState","action","getCountry","dispatch","getState","get","then","response","countryData","data","stateData","confirmed","detail","getStates","catch","error","console","log","map","item"],"mappings":"+JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,aAAa,CAAE,6BAArB,CACA,GAAMC,CAAAA,WAAW,CAAE,yBAAnB,CAEA,MAAO,SAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA4B,CAC/B,MAAM,CAACC,IAAI,CAACJ,aAAN,CAAsBG,KAAK,CAALA,KAAtB,CAAN,CACH,CAED,MAAO,SAASE,CAAAA,UAAT,CAAoBF,KAApB,CAA0B,CAC7B,MAAM,CAACC,IAAI,CAACH,WAAN,CAAmBE,KAAK,CAALA,KAAnB,CAAN,CACH,CAGD,cAAe,SAASG,CAAAA,OAAT,EAA4E,IAA3DC,CAAAA,KAA2D,2DAArD,CAACC,mBAAmB,CAAC,EAArB,CAAyBC,eAAe,CAAC,EAAzC,CAAqD,IAAPC,CAAAA,MAAO,2CACvF,OAAOA,MAAM,CAACN,IAAd,EACQ,IAAKJ,CAAAA,aAAL,CACI,sCAAWO,KAAX,MAAkBC,mBAAmB,CAACE,MAAM,CAACP,KAA7C,GACA,IAAKF,CAAAA,WAAL,CACI,sCAAWM,KAAX,MAAkBE,eAAe,CAACC,MAAM,CAACP,KAAzC,GACR,QACI,MAAOI,CAAAA,KAAP,CANZ,CASH,CAGD,MAAO,SAASI,CAAAA,UAAT,CAAoBR,KAApB,CAA0B,CAC7B,MAAO,UAACS,QAAD,CAAWC,QAAX,CAAsB,CAEzBd,KAAK,CAACe,GAAN,CAAU,4CAA4CX,KAAtD,EAA6DY,IAA7D,CAAkE,SAACC,QAAD,CAAY,CAE9E,GAAMC,CAAAA,WAAW,CAAGD,QAAQ,CAACE,IAA7B,CACA,GAAMC,CAAAA,SAAS,CAAGH,QAAQ,CAACE,IAAT,CAAcE,SAAd,CAAwBC,MAA1C,CAEAT,QAAQ,CAACV,YAAY,CAACe,WAAD,CAAb,CAAR,CACAL,QAAQ,CAACU,SAAS,CAACH,SAAD,CAAV,CAAR,CAEC,CARD,EAQGI,KARH,CAQS,SAACC,KAAD,CAAS,CAEdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAEH,CAZD,EAcH,CAhBD,CAiBH,CAED,MAAO,SAASF,CAAAA,SAAT,CAAmBH,SAAnB,CAA6B,CAChC,MAAO,UAACP,QAAD,CAAWC,QAAX,CAAsB,CAEzBd,KAAK,CAACe,GAAN,CAAUK,SAAV,EAAqBJ,IAArB,CAA0B,SAACC,QAAD,CAAY,CAElC,GAAMb,CAAAA,KAAK,CAAGa,QAAQ,CAACE,IAAT,CAAcS,GAAd,CAAkB,SAACC,IAAD,CAAQ,CAEpC,MAAOA,CAAAA,IAAP,CAEH,CAJa,CAAd,CAMAhB,QAAQ,CAACP,UAAU,CAACF,KAAD,CAAX,CAAR,CAIH,CAZD,EAYGoB,KAZH,CAYS,SAACC,KAAD,CAAS,CAEdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAEH,CAhBD,EAkBH,CApBD,CAsBH","sourcesContent":["import Axios from 'axios';\n\nconst FETCH_COUNTRY ='app/countries/FETCH_COUNTRY';\nconst FETCH_STATE ='app/country/FETCH_STATE';\n\nexport function fetchCountry(value){\n    return{type:FETCH_COUNTRY , value}\n}\n\nexport function fetchState(value){\n    return{type:FETCH_STATE, value}\n}\n\n\nexport default function reducer(state={indivisualCountries:[], indivisualState:[]}, action){\n    switch(action.type){\n            case FETCH_COUNTRY:\n                return {...state, indivisualCountries:action.value}\n                case FETCH_STATE:\n                    return {...state, indivisualState:action.value}\n            default:\n                return state;\n    }\n\n}\n\n\nexport function getCountry(value){\n    return (dispatch, getState)=>{\n\n        Axios.get('https://covid19.mathdro.id/api/countries/'+value).then((response)=>{\n\n        const countryData = response.data;\n        const stateData = response.data.confirmed.detail;\n\n        dispatch(fetchCountry(countryData));\n        dispatch(getStates(stateData));\n\n        }).catch((error)=>{\n\n            console.log(error)\n\n        })\n\n    }\n}\n\nexport function getStates(stateData){\n    return (dispatch, getState)=>{\n\n        Axios.get(stateData).then((response)=>{\n\n            const value = response.data.map((item)=>{\n\n                return item;\n\n            })\n\n            dispatch(fetchState(value));\n\n            \n\n        }).catch((error)=>{\n\n            console.log(error)\n\n        })\n\n    }\n\n}\n\n"]},"metadata":{},"sourceType":"module"}